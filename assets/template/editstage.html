{{define "editstage" }}
{{template "headBootstrap"}}
{{template "navbar" .}}
<body>

<div class="container p-5">
    <div class="col-lg-6 col-md-8 col-sm-12 mx-auto">
        <form action="/editstage-submit" method="POST">
        <div class="pt-3 pb-5">
            <h2 class="section-heading">Edit Review Stage: {{.Stage.ID}}</h2>
            <input type="hidden" name="id" class="form-control" placeholder="stage name" value="{{.Stage.ID}}">
        </div>
        <div class="form-group">
            <label>Description</label>
            <input type="text" name="description" class="form-control" placeholder="설명" value="{{.Stage.Description}}">
            <small class="form-text text-muted">Stage 의 간략한 설명</small>
        </div>
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <div>
                        <label>Text</label>
                    </div>
                    <div>
                        <input class="jscolor{valueElement:'textcolor'} btn border border-light w-100">
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <div>
                        <label>BG</label>
                    </div>
                    <div>
                        <input class="jscolor{valueElement:'bgcolor'} btn border border-light w-100">
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <div>
                        <label>Border</label>
                    </div>
                    <div>
                        <input class="jscolor{valueElement:'bordercolor'} btn border border-light w-100">
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <div>
                        <input id="textcolor" name="textcolor" type="text" class="form-control" value="{{.Stage.TextColor}}">
                    </div>
                    <small class="form-text text-muted">Stage 글자색</small>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <div>
                        <input id="bgcolor" name="bgcolor" type="text" class="form-control" value="{{.Stage.BGColor}}">
                    </div>
                    <small class="form-text text-muted">Stage 배경색</small>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <div>
                        <input id="bordercolor" name="bordercolor" type="text" class="form-control" value="{{.Stage.BorderColor}}">
                    </div>
                    <small class="form-text text-muted">Stage 테두리색</small>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label>Next Stage</label>
                    <select class="form-control" id="nextstage" name="nextstage">
                        {{range .Stages}}
                            <option value="{{.ID}}" {{if eq .ID $.Stage.NextStage}}selected{{end}}>{{.ID}}</option>
                        {{end}}
                    </select>
                    <small class="form-text text-warning">Approve가 클릭되면 바뀌게 될 Stage</small>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label>Next Status</label>
                    <select class="form-control" id="nextstatus" name="nextstatus">
                        <option value="wait" {{if eq "wait" $.Stage.NextStatus}}selected{{end}}>wait</option>
                        <option value="closed" {{if eq "closed" $.Stage.NextStatus}}selected{{end}}>closed</option>
                        <option value="comment" {{if eq "comment" $.Stage.NextStatus}}selected{{end}}>comment</option>
                        <option value="approve" {{if eq "approve" $.Stage.NextStatus}}selected{{end}}>approve</option>
                    </select>
                    <small class="form-text text-warning">Approve가 클릭되면 바뀌게 될 Status</small>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label>Order</label>
            <input type="number" name="order" step="0.1" class="form-control" placeholder="0" value="{{.Stage.Order}}">
            <small class="form-text text-muted">Stage 우선순위 순서</small>
        </div>
        <div class="form-check">
            <input type="checkbox" id="initstage" name="initstage" class="form-check-input" value="true" {{if eq .Stage.InitStage true}}checked{{end}}>
            <label class="form-check-label" for="initstage">리뷰 아이템 생성시 초기 상태값으로 사용</label>
        </div>
        <div class="text-center">
            <button type="submit" class="btn btn-outline-danger mt-5">Edit Review Stage</button>
        </div>
        </form>
    </div>
</div>

{{template "footerBootstrap"}}
</body>
<script src="/assets/js/jscolor.js"></script>
<script src="/assets/js/jquery-3.1.1.min.js"></script>
<script src="/assets/bootstrap-4/js/bootstrap.min.js"></script>
</html>
{{end}}

